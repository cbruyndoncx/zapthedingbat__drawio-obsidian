# Repository Guidelines

## Project Structure & Module Organization
This is an Obsidian plugin written in TypeScript and bundled with Rollup.
- `src/`: plugin source code (entry at `src/DiagramPlugin.ts`).
- `src/drawio-client/`: embedded draw.io client code and init/app bundles.
- `src/assets/`: SVGs, CSS, and draw.io extensions/shapes.
- `test/automation/`: Mocha/Spectron automation tests.
- `docs/image/`: README screenshots and assets.
- `typings/`: TypeScript ambient typings.
- `dist/`: build output (generated by Rollup).

## Build, Test, and Development Commands
- `npm run build`: bundles the plugin via Rollup into `dist/` and copies assets.
- `npm run automation`: runs automation tests with Mocha + ts-node using
  `test/automation/.mocharc.json`.

## Coding Style & Naming Conventions
- TypeScript (ES6 target) with `noImplicitAny` enabled; keep types explicit.
- Indentation is 2 spaces; keep imports grouped and sorted logically.
- Classes use `PascalCase` (e.g., `DiagramEditView`), functions/vars use
  `camelCase`, constants use `UPPER_SNAKE_CASE`.
- File names generally match exported class names (e.g., `DiagramView.ts`).

## Testing Guidelines
- Framework: Mocha with Chai assertions; Spectron is used for automation.
- Test files use `*.test.ts` under `test/automation/`.
- Run tests via `npm run automation` and ensure they pass before PRs.

## Commit & Pull Request Guidelines
- Commit messages are short, sentence case, and often include issue/PR refs
  (e.g., “Fix for issue with more options menu (#99).”).
- PRs should include a clear summary, testing notes, and screenshots when UI
  changes are visible in Obsidian.
- If behavior changes, update `README.md` and/or relevant assets as needed.

## Configuration Notes
- Build config lives in `rollup.config.js`; TypeScript config is `tsconfig.json`.
- Manifest/versioning files are `manifest.json` and `versions.json`.
